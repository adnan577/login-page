#include<iostream>
#include<fstream>
using namespace std;
class temp
{
 string username,email,password;
 string searchname,searchmail,searchpass;
 fstream file;
 public:
     void signup();
     void login();
     void forgot();
}obj;
void temp::signup()
{
cout<<"Enter your username::"<<endl;
getline(cin,username);
 cout<<"Enter your Email::"<<endl;
getline(cin,email);
cout<<"Enter your Password::"<<endl;
getline(cin,password);
file.open("logindata.txt",ios::out|ios::app);
file<<username<<"*"<<email<<"*"<<password<<endl;
file.close();
}
void temp::login()
{
cout<<"-----------LOGIN----------"<<endl;
 cout<<"Enter your username::"<<endl;
  getline(cin,searchname);
  cout<<"Enter your password::"<<endl;
  getline(cin,searchpass);
  file.open("logindata.txt",ios::in);
  getline(file,username,'*');
getline(file,email,'*');
getline(file,password,'\n');
while(!file.eof())
{
  if(username==searchname)
  {
      if(password==searchpass)
      {
          cout<<"Your Username::"<<username<<endl;
          cout<<"Your Email::"<<email<<endl;
      }else
      {
      cout<<"Password invalid.....!"<<endl;
      }
  }
    getline(file,username,'*');
getline(file,email,'*');
getline(file,password,'\n');
}
 file.close();
}
void temp::forgot()
{
 cout<<"Enter your username::"<<endl;
  getline(cin,searchname);
cout<<"Enter your email address::"<<endl;
  getline(cin,email);
  file.open("logindata.txt",ios::in);
  getline(file,username,'*');
getline(file,email,'*');
getline(file,password,'\n');
while(!file.eof())
{
  if(username==searchname)
  {
      if(email==searchmail)
      {
      cout<<"Account found::"<<endl;
       cout<<"Your password:"<<password<<endl;
    }else
    {
        cout<<"Account not found...!"<<endl;
    }

}else
{
 cout<<"\nAccount not found...!"<<endl;
    }
    getline(file,username,'*');
getline(file,email,'*');
getline(file,password,'\n');
}
file.close();
}
int main()
{
 char choice;
 cout<<"\n1-signup"<<endl;
 cout<<"\n2-login"<<endl;
 cout<<"\n3-forgot"<<endl;
 cout<<"\n4-exit"<<endl;
 cout<<"\nEnter your choice::"<<endl;
 cin>>choice;
 switch(choice)
 {
      case '1':
            cin.ignore();
            obj.login();
        break;
        case '2':
            cin.ignore();
            obj.signup();
        break;
        case '3':
            cin.ignore();
            obj.forgot();
        break;
        case '4':
            return 0;
        break;
        defualt:
            cout<<"Invalid Selection...!";
 }
}
